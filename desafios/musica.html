<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio Música</title>
    <!--Guilherme Trevizan & Rafael Mechi-->
</head>
<body>
    <label for="ipt_qtdMusica">Insira a quantidade de música que você deseja ouvir</label>
    <input type="number" id="ipt_qtdMusica">

    <button onclick="show()">Começar o Show</button>

    <div id="resultado"></div>
</body>
    <script>
        function show(){
            var qtdMusica = Number(ipt_qtdMusica.value);
            var musicas = '';
            var qtdTocada = 0;
            var qtdAprovada = 0;
            var qtdReprovrada = 0;
            var musicaTocando = '';

            for(var i = 1; i <= qtdMusica; i++){
                var musicaDigitada = prompt(`Insira a ${i}ª música`);
                musicas += musicaDigitada + '|';

                var aprovacao = prompt("Você gosta da música? (sim/não)");
                    if(aprovacao.toLowerCase() == 'sim'){
                        qtdAprovada ++;
                    }else{
                        qtdReprovrada ++;
                    }
            }

            // separa as músicas por "|"
            // var separacao = musicas.split("|");

            // essa variável será usada futuramente para armazenar a música que está tocando temporariamente
            var ultimaMusica = '';

            //essa variável serve para contarmos a enésima musica da lista
            var contadorMusica = 0;

            for (var i = 0; i < musicas.length; i++) {
                
                //se o caractere do índice for "|", significa que chegamos no final do nome da música
                if (musicas[i] == "|") {
                    contadorMusica++;
                    var proximaMusica = prompt(`Tocando ${contadorMusica}ª música: ${ultimaMusica}`);
                    
                    while(proximaMusica == ultimaMusica){
                        proximaMusica = prompt(`Essa música acabou de tocar, escolha outra! (Música atual: ${ultimaMusica})`);
                    }
                    ultimaMusica = '';
                } else {

                    // aqui a musica vai sendo armazenada letra por letra
                    ultimaMusica += musicas[i];
                }
            }

            resultado.innerHTML += `${qtdMusica} músicas foram tocadas<br>
            ${qtdAprovada} músicas foram aprovadas<br>
            ${qtdReprovrada} músicas foram reprovadas<br>`;

            
        }
    </script>
</html>